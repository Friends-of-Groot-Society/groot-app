<!-- 
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ include file="../common/header.jspf"%>
<%@ include file="../common/navigation.jspf"%>
<%@ include file="../common/footer.jspf"%>
 -->
<!DOCTYPE html>

<head>
    <title>Requests-1</title>
    <style>
        footer.footer {
            width: 100%;
            position: absolute;
            bottom: 0;
        }

        .navright {
            transform: translateX(-25px);
        }
    </style>
    <link href="webjars/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" />
    <link href="proj1style.css" rel="stylesheet" />
    <link href="/favicon.ico" rel="shortcut favicon" />
    <link href="favicon.ico" rel="shortcut favicon" />
    <link href="favicon.ico" rel="shortcut favicon" type="text/html" />
    <!-- /src/main/webapp/favicon.ico
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
   -->
</head>

<body>
    <nav class="navbar navbar-default">
        <ul class="nav navbar-nav">
            <li>
                <a href="#" class="navbar-brand center">
                    <em>Requests-1</em>
                </a>
            </li>
        </ul>
        <ul class="nav navbar-nav navbar-right userdata">
            <li class=" navright  ">
                <br />
                <button class="btn btn-primary logout pull-right"><a href="login.html">SIGN IN</a></button>
                <br />
                <p class="pull-right">Already signed up?</p>
            </li>
        </ul>
    </nav>
    <div class="container">
        <h3>PORTAL SIGN-UP</h3>
        <div id="info" class="row">
            <div class="col col-xs-6">
                <h4 id="text">Dept Number</h4>
                <input id="deptId" min="401" type="number">

                <h4 id="text">superId</h4>
                <input id="superId" min="1" type="number">

                <h4 id="text">user name</h4>
                <input id="userName" type="text">

                <h4 id="text">password</h4>
                <input id="password" type="password">

                <h4 id="text">email</h4>
                <input id="email" type="text">
                <button class="btn btn-primary" onclick="addUser()">SIGN-UP</button>

            </div>

        </div> <!-- end of info -->
    </div><!-- end of container -->

    <footer class="footer">
        <div>
            <p>Requests 1 - Revature<br />
                <small>Copyright &copy; 2020 &nbsp;</small></p>
        </div>
    </footer>
</body>
<script>


    let addUser = function () {
        let r = document.getElementById("deptId");
        let deptId = ""; // declare & erase subsequent
        deptId += r.value; // append

        let ri = document.getElementById("superId");
        let superId;  // just declare
        superId = ri.value; // overwrite

        let rn = document.getElementById("userName");
        let userName;
        userName = rn.value;

        let rp = document.getElementById("password");
        let password;
        password = rp.value;

        let re = document.getElementById("email");
        let email;
        email = re.value;

        let xhttp = new XMLHttpRequest();

        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {

                console.log("readyState: " + this.readyState + ", status: " + this.status);
            }
        }

        xhttp.open("POST", "addUser.do", true);

        xhttp.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
        xhttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
        xhttp.send("deptId=" + deptId + "&superId=" + superId + "&userName=" + userName + "&password=" + password + "&email=" + email);
        console.log("Great, submitted; your deptId: #" + deptId + ", super ID: " + superId + " submitted by: *" + userName + " pw: *" + password + ", email: " + email);
        window.location.href = "login.html";

    }  
</script>

<script src="webjars/jquery/1.9.1/jquery.min.js"></script>
<script src="webjars/bootstrap/3.3.6/js/bootstrap.min.js"></script>

</HTML>